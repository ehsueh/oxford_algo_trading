## Module 1 - Introduction to Classic and Behavioural Finance Theory

### Efficient Market Hypothesis (EMH)

- **Market efficiency** is the situation where current price reflects all available informatoin about the security.
	- The term efficient market was first used by Nobel Prize winning economist Eugene Francis Fama in 1965 saying that "on average, efficient market will cause the full effects of new information on intrinsic values to be reflected 'instantaneously' in actual prices"
- The hypothesis implies that it's not possible to consistently beat the market since all info is present in the prices and all stocks are traded at fair value.
- Advantages gained through stock selection negates out with costs that come with research and transaction.
- Analysts and fund allocation professionals are the ones incorporating the available information into the prices thereby making it an efficient market.
- EMH thinks market prices are fair and trustworthy and the possibility of finding mispriced stocks decreases as more people participate in the market, so eventually, profits resulting from finding and transacting mispriced securities would only occur by chance.
- In EMH, an investor can only achieve good return by luck or by increasing thte level of risk.
- Different types of info EMH can include:
  - public vs private
  - current vs historical
- EMH is presented in three forms: strong, semi-strong or weak depending on the type of information incorporated into the stock price.
  - **Strong-form efficiency**
    - All public and private info is quickly incorporated into prices
    - No long-term gains can be achieved info even by insiders
    - The market can unbiasedly anticipate and incorporate future events into prices
    - Empricial research usually finds contradictary evidences to strong-form efficiency claims (Clarke, Jandik & Mandelker, 2001)
  - **Semi-strong-form efficiency**
    - All public but not private info are incorporated into prices.
    - Prices reflect historical and current price data in:
      - company's financial statements
      - economic factors (e.g. inflation, unemployment)
      - company annoucements (e.g. earnings, dividends, merger plans)
      - any other form of relevant public info (financial or non-financial)
    - Traders and analysts won't be able to profit from public info that everyone else has access to.
    - Public info can be hard to obtain and the research and data-mining process can be very costly and time-consuming.
    - Emrpical evidence strongly supports this form of market efficiency (Clarke, Jandik & Mandelker, 2001)
  - **Weak-form efficiency**
    - Current prices only fully reflect info taken from historical price data but no new public or private info.
    - It's impossible to find mispriced stocks and beat the market by studying only historical prices.
    - Technical analysis can't beat the market!
    - Many emprical studies found substantial evidence supporting this form of efficiency (Clarke, Jandik & Mandelker, 2001)
- Many research shows markets are generally highly efficient. 
- EMH is not perfect but considered to be the best available theory for describing the markets.
- A key challenge to EMH is regarding investor rationality.
- It is difficult to measure the impact of single events on prices as there are usually many factors involved.

### The Efficient Frontier 

- First suggested by Harry Markowitz in 1952.
- The efficient frontier stats that there exists a set of optimal portfolios that provides the best expected return given a particular risk level. Conversely, there exists a lowest level of risk for a given level of return.
- This set of portfolios form the efficient frontier (the curve on the return to risk plot). 
- Investment decisions should be made by staying on and moving along the efficient frontier.
- Higher risk imples higher return; however, the curve plateaus and there is a theoretical cap on the return a portfolio can generate.

### Fundamental Analysis

- Two primary forms of market analysis:
  - Fundamental analysis
    - Uses both financial and economic analysis to compute intrinsic value (fair price)
    - Consists of 3 levels: 
      - Economy as a whole (economic growth, government stability)
      - The industry (supply-and-demand, competition)
      - The company itself (financial data, managerial competence)
    - Steps in fundamental analysis:
      - Macroeconmoic analysis: What's the overall economic and political environment the company operates in?
      - Industry analysis: What's the company's market presence, market share and competitive advantage?
      - Situational analysis: What's the company's current state and what are the influential factors currently involved?
      - Financial analysis (perhaps the most important part of fundamental analysis): What's the company's financial statements looking like?
      - Qualitative analysis: What are the internal factors that might be hard to quantify (quality of management, CEO performance, compliance state)? 
    - Strong long-term analysis tool
  - Technical analysis
    - Predicts price movement based on historical market data.
    - Examines how investor fear or overconfidence can affect market data.
    - Uses different market indicators to identify trends.

### Behavioural Biases and Their Effects

- **Behavioural finance** explains anomalies in market behaviours by recognizing that individuals may act irrationally basing decisions on misinterpretion or misjudgements.
- Algorithms can't identify "emotions" but can recognize statistical indicators that arise from such human behaviours. 
- **Two primary pillars of behavioural finance**:
  - **Cognitive psychology**: how people think
  - Ability to predict conditions where **arbitrage** is effective
- Arbitrage is the process of profiting from differences in prices in different markets.
- Factors affecting people's judgement and decision-making:
  - Previous experience
  - Preferences
  - Context of information
  - Presentation of information
  - Default effect
- **Prospect theory** (by Daniel Kahneman and Amos Tversky 1981) states that investors base their decisions on perceived gains and losses as opposed to on specific outcomes. In addition, potential losses tend to have greater influence than potential gains.
- When presented with decisions involving gains, people tend to be risk averse; however, when losses are involved, people tend to be risk-taking.
- Framing is the way context can be defined to shape the perception of alternatives and thereby influence the decisions to be made.
  - Choice of words can introduce framing effect too. E.g. words like: discount, saving, penalty, windfall can evoke emotions and affect perceptions.
- Loss aversion is the psychological effect where people tend to want to avoid realising losses even if there's a better option available.
- Loss aversion can make people underestimate the real cost of a decision and choose a suboptimal option.
- **Bias** is a disconnection between what's true and what's believed to be true.
- Biases result in many people acting in the same irrational way.
- **Bayesian updating** (Baysesian inference) is a method of inference where the probability of an event is updated when new information is received.
- Bayesian updating is used to make more accurate predictions in math.
  - Overreaction - too much weight is given to the new data compared to prior beliefs.
  - Underreaction - too little weight is given to the new data.
- Cognitive psychology (first pillar of behavioural finance) causes biases and over/underreactions, introducing arbitrage (second pillar of behavioural finance) opportunities in the market.
- **Representativeness bias** is a form of bias where people make decisions about frequency based off its representativeness for (similarity to) the parent population.
  - **Conjunction fallacy**
    - Conjunction rule states p(A and B) can't be greater than either P(A) or P(B) alone.
    - E.g. Biography and occupation & interest prediction study by Tversky and Kahneman 1983
    - The fallacy is that similarity or representativeness translates to proxy for likelihood.
  - **Gambler's fallacy**
    - Gambler's contine to gamble when they are losing thinking that their luck is about to return.
    - The fallacy is the expectation that the sequence represents the underlying fundamentals.
    - Leads to mean reversion.
  - **Hot-hand fallacy**
    - If someone has previously been succesful in a random event, they have a greater chance of being successful in future attempts.
    - E.g. basketball player who had scored three times in a row is more likely to make his fourth shot.
    - Inverse of the gambler's fallacy. Main difference is that in gambler's fallacy, the underlying probability is known; however, in the hot-hand fallacy,the underlying probability is unknown and the produced sequence is used to infer or guess the fundamentals.
    - Representativeness leads people to think if the performance is good, the fundamentals must also be good.
    - Leads to momentum.
  - Reprsentativeness is a model of overreation to a limited depiction of the knwown fundamental sequences 9gambler's fallacy) and to observed data linking back to an unknown fundamental sequence (hot-hand fallacy).
- **Availablility bias** is the situation where people assess the probability of an event by how easy occurrences come to mind or how easy certain info can be recalled. 
  - Factors leading to availability biases include: recency, repetition, vividness.
- **Anchoring bias** is when people rely too much on the initial info received, using the first piece of info as a reference point.
  - Investor anchor to historical events and prices.
  - 2017 Jetter and Walker studied anchoring bias in Jeopardy wager. Strong correlation noted in contestants between initial dollar value and wager; however, children under 13 showed no significant correlation.
- **Confirmation bias** is the phenomenon that once people hold a belief they selectively seek evidence in favour of their belief, rejecting those that contradict it.
- **Mean reversion** is the theory that prices and returns will revert to their mean.
- **Momentum** trading make use of market trends and targets acceleration in prices, allowing traders to enter the position required before the event happens.
- Arbitrage takes advantage of pricing discrepancy and causes prices to tend towards their fundamental values, keeping the market more efficient.

### Identifying Patterns in the Market
- Normalized around 0, use price difference, divided by volatility

### Systematic Trading Pros and Cons
- Three ways to make money with algo trading:
  - Predicting markets aka. identifying opportunities
  - Improving execution
  - Improving risk management

## Charts and Patterns
- **Candlestick** chart
  - Green (or empty) shows buying pressure moving prices up.
  - Red (or filled) shows selling pressure moving the price down.
  - Wicks or shadow show the highest or lowest value during the time period.
- **Patterns** are interpretations of chart formations that have implications for future price movements.
- **Trend lines** is a simple mechanism to identify price patterns
  - Three categories of **trend lines**:
    - Short term - usually less than 1 month
    - Medium term - usually 1 to 6 months
    - Long term - usually greater than 6 months
  - Note: these categories are subjective and relative to individual investment horizon
  - Creation of a trend line involves connecting at least 2 or 3 low points for upward trends. And at least 2 or 3 high points for downward trends.
  - Trend lines need to be updated.
  - A basic indicator is when price moves through a trend line, then it might be time to re-evaluate trend's validity.
  - **Support line** is an upward trend.
  - **Resistance line** is a downward trend.
- **Reversals patterns**  are pattern in charts that indicate a reverse in trends.
  - **Double top** (M) have two high points and at least two falls where the prices drop to or below the neckline. This can indicate a downward or horizontal trend. **Double bottom** (W) same but inverse of double top. 
  - **Head and shoulders** have three peaks with the middle being the highest as the head and two lower flanking shoulders. The two low points are valleys and should lie on similar price levels, forming a neckline. 
    - Weakness is when the right shoulder doesn't reach the head.
    - If line breaks through the neckline after the right shoulder peak, the pattern is confirmed and a reversal possibly will take place.
  - **Elliott waves** are directoinal movements. Elliot wave analysis identify all smaller waves that's part of larger waves.
  - **Fibonacci levels** uses transformation of Fibonacci sequence to help identify future support and resistance lines.
    - Drawback: levels are not based on any financial understanding and can't be clearly explained in economic terms.

### Four Rules in Building or Evaluating an Algo Model

- What money can be made from
  - Better market forecasting
  - Better execution
  - Better risk management
- Identify and quantify the opportunity: Can you explain it?
- Test and verify: Use unseen out-of-samples.
- Build: Connect and retest model with real life data. (Test slippage etc.)